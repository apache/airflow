<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [Airflow Error Guide](#airflow-error-guide)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# Airflow Error Guide

| Sr. No. | Airflow Error Code | Error Message                                              | Exception Class (if available) | Error Source or Context                                | Possible Commonly Observed Causes                                                                                                                                                                                                                                       |
| ------- | ------------------ | ---------------------------------------------------------- | ------------------------------ | ------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1       | AERR001            | TaskInstances still running                                | AirflowException               | Delete DAG                                             | Some task instances are still in RUNNING state, so check if any of the Task Instances of the DAG you're trying to delete are still running, either wait for them to complete or stop the DAG and retry the deletion.                                                    |
| 2       | AERR002            | The user must be signed in.                                | AirflowException               | Auth (right now in Old APIs)                           | Authentication information is missing in the request, so ensure it's passed properly in the required headers and retry the request.                                                                                                                                     |
| 3       | AERR003            | Invalid command definition.                                | AirflowException               | CLI Parser Init                                        | This is an internal error which would mean there's a problem in one of the command definitions in airflow/cli/cli_parser.py. This should be reported as a bug.                                                                                                          |
| 4       | AERR004            | An SSL certificate must also be provided                   | AirflowException               | Webserver Command                                      | If an SSL key is specified, then an SSL certificate needs to be mandatorily provided with it (it's like a pair).                                                                                                                                                        |
| 5       | AERR005            | An SSL key must also be provided for use with              | AirflowException               | Webserver Command                                      | If an SSL certificate is specified, then an SSL keys needs to be mandatorily provided with it (it's like a pair).                                                                                                                                                       |
| 6       | AERR006            | Tried to kill before starting!                             | AirflowException               | Dag File Processor                                     | This occurs when an attempt to kill the process is made even before the process has started and initialized properly.                                                                                                                                                   |
| 7       | AERR007            | Tried to call terminate before starting!                   | AirflowException               | Dag File Processor                                     | Similar to AERR006                                                                                                                                                                                                                                                      |
| 8       | AERR008            | Tried to kill process before starting!                     | AirflowException               | Dag File Processor                                     | Similar to AERR006                                                                                                                                                                                                                                                      |
| 9       | AERR009            | Tried to get PID before starting!                          | AirflowException               | Dag File Processor                                     | Attempt to fetch the PID (process ID) is made even before the process has successfully started and initialized properly.                                                                                                                                                |
| 10      | AERR010            | Tried to get exit code before starting!                    | AirflowException               | Dag File Processor                                     | Attempt to fetch the Exit Code is made even before the process has successfully started and initialized properly.                                                                                                                                                       |
| 11      | AERR011            | Tried to call retcode before process was finished!         | AirflowException               | Dag File Processor                                     | Attempt to fetch the Exit Code is made before the process has completed successfully.                                                                                                                                                                                   |
| 12      | AERR012            | Tried to see if it's done before starting!                 | AirflowException               | Dag File Processor                                     | Attempt to check if the process is complete before the process has even started or initialized properly.                                                                                                                                                                |
| 13      | AERR013            | Tried to get the result before it's done!                  | AirflowException               | Dag File Processor                                     | Attempt to get the process's result before the process has completed it's processing.                                                                                                                                                                                   |
| 14      | AERR014            | Tried to get start time before it started!                 | AirflowException               | Dag File Processor                                     | Attempt to fetch the process's start time before the process has started.                                                                                                                                                                                               |
| 15      | AERR015            | Refreshing a specific version is not supported             | AirflowException               | Git DAG bundle                                         |                                                                                                                                                                                                                                                                         |
| 16      | AERR016            | Not versioned!                                             | AirflowException               | Local DAG bundle -> get_current_version()              |                                                                                                                                                                                                                                                                         |
| 17      | AERR017            | Task groups cannot be marked as setup or teardown.         | AirflowException               | Airflow task decorator                                 |                                                                                                                                                                                                                                                                         |
| 18      | AERR018            | Only setup/teardown tasks can be used as context managers. | AirflowException               | Context Manager validations for Airflow task decorator |                                                                                                                                                                                                                                                                         |
| 19      | AERR019            | Job shut down externally.                                  | AirflowException               | Standard Task Runner                                   |                                                                                                                                                                                                                                                                         |
| 20      | AERR020            | Can't load operators                                       | AirflowException               | Abstract Operator                                      | Occurs when operator_extra_links is unavailable in Airflow Plugin Manager                                                                                                                                                                                               |
| 21      | AERR021            | Only setup/teardown tasks can be used as context managers. | AirflowException               | Abstract Operator                                      | Similar to AERR018                                                                                                                                                                                                                                                      |
| 22      | AERR022            | on_kill() method failed                                    | Error Log                      | Airflow Job kill handler: Job class -> kill()          |                                                                                                                                                                                                                                                                         |
| 23      | AERR023            | Job is empty                                               | Error Log                      | Airflow Job                                            |                                                                                                                                                                                                                                                                         |
| 24      | AERR024            | DAG '%s' not found in serialized_dag table                 | Error Log                      | Scheduled Job Runner                                   |                                                                                                                                                                                                                                                                         |
| 25      | AERR025            | Heartbeat time limit exceeded!                             | Error Log                      | Local Task Job Runner                                  | Occurs when it's too long since Airflow sent last heartbeat for that task, so it's possible that the scheduler would have rescheduled the task. Heartbeat duration can be controlled by property: scheduler.scheduler_zombie_task_threshold (integer number of seconds) |
| 26      | AERR026            | Can't decrypt _val for key=%s, invalid token or value      | Error Log                      | Get Airflow Variable from Metadata DB                  | Could be due to invalid FERNET_KEY or it was changed abruptly                                                                                                                                                                                                           |
| 27      | AERR027            | Automatic migration is not available                       | Error Log                      | Airflow DB upgradedb command                           | Occurs if Airflow detects migration errors during the validation.                                                                                                                                                                                                       |
| 28      | AERR028            | Calling 'get_user_name()' but the user is not signed in.   | Error Log                      | Airflow Base Auth Manager                              | Occurs when an non-signed user is trying to access an Airflow REST API.                                                                                                                                                                                                 |
| 29      | AERR029            | Recording the task instance as FAILED                      | Error Log                      | Task Instance                                          | Occurs when a task instance errors out and it's state is being updated to FAILED                                                                                                                                                                                        |
| 30      | AERR030            | Process timed out, PID: %s                                 | Error Log                      | Airflow Job Timeout                                    | Occurs when an Airflow Job has timed out after the specified timeout duration defined for it.                                                                                                                                                                           |
| 31      | AERR031            | Error updating Task Instance state: %s                     | Error Log                      | Task Instance                                          | Occurs when there's an error while updating a task instance's state in the Airflow metadata DB.                                                                                                                                                                         |
