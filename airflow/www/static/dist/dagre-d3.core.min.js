/*! For license information please see dagre-d3.core.min.js.LICENSE.txt */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).dagreD3=t()}}((function(){return function t(e,r,n){function a(l,s){if(!r[l]){if(!e[l]){var o="function"==typeof require&&require;if(!s&&o)return o(l,!0);if(i)return i(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var c=r[l]={exports:{}};e[l][0].call(c.exports,(function(t){return a(e[l][1][t]||t)}),c,c.exports,t,e,r,n)}return r[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(t,e,r){e.exports={graphlib:t("./lib/graphlib"),dagre:t("./lib/dagre"),intersect:t("./lib/intersect"),render:t("./lib/render"),util:t("./lib/util"),version:t("./lib/version")}},{"./lib/dagre":8,"./lib/graphlib":9,"./lib/intersect":10,"./lib/render":25,"./lib/util":27,"./lib/version":28}],2:[function(t,e,r){var n=t("./util");function a(t,e,r,a){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(i,r[a+"Style"]),r[a+"Class"]&&i.attr("class",r[a+"Class"])}e.exports={default:a,normal:a,vee:function(t,e,r,a){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(i,r[a+"Style"]),r[a+"Class"]&&i.attr("class",r[a+"Class"])},undirected:function(t,e,r,a){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");n.applyStyle(i,r[a+"Style"]),r[a+"Class"]&&i.attr("class",r[a+"Class"])}}},{"./util":27}],3:[function(t,e,r){var n=t("./util"),a=t("./d3"),i=t("./label/add-label");e.exports=function(t,e){var r,l=e.nodes().filter((function(t){return n.isSubgraph(e,t)})),s=t.selectAll("g.cluster").data(l,(function(t){return t}));s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0),s=t.selectAll("g.cluster"),n.applyTransition(s,e).style("opacity",1),s.each((function(t){var r=e.node(t),n=a.select(this);a.select(this).append("rect");var l=n.append("g").attr("class","label");i(l,r,r.clusterLabelPos)})),s.selectAll("rect").each((function(t){var r=e.node(t),i=a.select(this);n.applyStyle(i,r.style)})),r=s.exit?s.exit():s.selectAll(null);return n.applyTransition(r,e).style("opacity",0).remove(),s}},{"./d3":7,"./label/add-label":18,"./util":27}],4:[function(t,e,r){"use strict";var n=t("./lodash"),a=t("./label/add-label"),i=t("./util"),l=t("./d3");e.exports=function(t,e){var r,s=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return i.edgeToId(t)})).classed("update",!0);s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=t.selectAll("g.edgeLabel")).each((function(t){var r=l.select(this);r.select(".label").remove();var i=e.edge(t),s=a(r,e.edge(t),0,0).classed("label",!0),o=s.node().getBBox();i.labelId&&s.attr("id",i.labelId),n.has(i,"width")||(i.width=o.width),n.has(i,"height")||(i.height=o.height)})),r=s.exit?s.exit():s.selectAll(null);return i.applyTransition(r,e).style("opacity",0).remove(),s}},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],5:[function(t,e,r){"use strict";var n=t("./lodash"),a=t("./intersect/intersect-node"),i=t("./util"),l=t("./d3");function s(t,e){var r=(l.line||l.svg.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(r.curve||r.interpolate)(t.curve),r(e)}e.exports=function(t,e,r){var o=t.selectAll("g.edgePath").data(e.edges(),(function(t){return i.edgeToId(t)})).classed("update",!0),d=function(t,e){var r=t.enter().append("g").attr("class","edgePath").style("opacity",0);return r.append("path").attr("class","path").attr("d",(function(t){var r=e.edge(t),a=e.node(t.v).elem;return s(r,n.range(r.points.length).map((function(){return e=(t=a).getBBox(),{x:(r=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:r.f};var t,e,r})))})),r.append("defs"),r}(o,e);!function(t,e){var r=t.exit();i.applyTransition(r,e).style("opacity",0).remove()}(o,e);var c=void 0!==o.merge?o.merge(d):o;return i.applyTransition(c,e).style("opacity",1),c.each((function(t){var r=l.select(this),n=e.edge(t);n.elem=this,n.id&&r.attr("id",n.id),i.applyClass(r,n.class,(r.classed("update")?"update ":"")+"edgePath")})),c.selectAll("path.path").each((function(t){var r=e.edge(t);r.arrowheadId=n.uniqueId("arrowhead");var o=l.select(this).attr("marker-end",(function(){return"url("+(t=location.href,e=r.arrowheadId,t.split("#")[0]+"#"+e+")");var t,e})).style("fill","none");i.applyTransition(o,e).attr("d",(function(t){return function(t,e){var r=t.edge(e),n=t.node(e.v),i=t.node(e.w),l=r.points.slice(1,r.points.length-1);return l.unshift(a(n,l[0])),l.push(a(i,l[l.length-1])),s(r,l)}(e,t)})),i.applyStyle(o,r.style)})),c.selectAll("defs *").remove(),c.selectAll("defs").each((function(t){var n=e.edge(t);(0,r[n.arrowhead])(l.select(this),n.arrowheadId,n,"arrowhead")})),c}},{"./d3":7,"./intersect/intersect-node":14,"./lodash":21,"./util":27}],6:[function(t,e,r){"use strict";var n=t("./lodash"),a=t("./label/add-label"),i=t("./util"),l=t("./d3");e.exports=function(t,e,r){var s,o=e.nodes().filter((function(t){return!i.isSubgraph(e,t)})),d=t.selectAll("g.node").data(o,(function(t){return t})).classed("update",!0);d.exit().remove(),d.enter().append("g").attr("class","node").style("opacity",0),(d=t.selectAll("g.node")).each((function(t){var s=e.node(t),o=l.select(this);i.applyClass(o,s.class,(o.classed("update")?"update ":"")+"node"),o.select("g.label").remove();var d=o.append("g").attr("class","label"),c=a(d,s),u=r[s.shape],h=n.pick(c.node().getBBox(),"width","height");s.elem=this,s.id&&o.attr("id",s.id),s.labelId&&d.attr("id",s.labelId),n.has(s,"width")&&(h.width=s.width),n.has(s,"height")&&(h.height=s.height),h.width+=s.paddingLeft+s.paddingRight,h.height+=s.paddingTop+s.paddingBottom,d.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var p=l.select(this);p.select(".label-container").remove();var f=u(p,h,s).classed("label-container",!0);i.applyStyle(f,s.style);var g=f.node().getBBox();s.width=g.width,s.height=g.height})),s=d.exit?d.exit():d.selectAll(null);return i.applyTransition(s,e).style("opacity",0).remove(),d}},{"./d3":7,"./label/add-label":18,"./lodash":21,"./util":27}],7:[function(t,e,r){var n;if(!n&&"function"==typeof t)try{n=t("d3")}catch(t){}n||(n=window.d3),e.exports=n},{d3:void 0}],8:[function(t,e,r){var n;if("function"==typeof t)try{n=t("dagre")}catch(t){}n||(n=window.dagre),e.exports=n},{dagre:void 0}],9:[function(t,e,r){var n;if("function"==typeof t)try{n=t("graphlib")}catch(t){}n||(n=window.graphlib),e.exports=n},{graphlib:void 0}],10:[function(t,e,r){e.exports={node:t("./intersect-node"),circle:t("./intersect-circle"),ellipse:t("./intersect-ellipse"),polygon:t("./intersect-polygon"),rect:t("./intersect-rect")}},{"./intersect-circle":11,"./intersect-ellipse":12,"./intersect-node":14,"./intersect-polygon":15,"./intersect-rect":16}],11:[function(t,e,r){var n=t("./intersect-ellipse");e.exports=function(t,e,r){return n(t,e,e,r)}},{"./intersect-ellipse":12}],12:[function(t,e,r){e.exports=function(t,e,r,n){var a=t.x,i=t.y,l=a-n.x,s=i-n.y,o=Math.sqrt(e*e*s*s+r*r*l*l),d=Math.abs(e*r*l/o);n.x<a&&(d=-d);var c=Math.abs(e*r*s/o);n.y<i&&(c=-c);return{x:a+d,y:i+c}}},{}],13:[function(t,e,r){function n(t,e){return t*e>0}e.exports=function(t,e,r,a){var i,l,s,o,d,c,u,h,p,f,g,y,v;if(i=e.y-t.y,s=t.x-e.x,d=e.x*t.y-t.x*e.y,p=i*r.x+s*r.y+d,f=i*a.x+s*a.y+d,0!==p&&0!==f&&n(p,f))return;if(l=a.y-r.y,o=r.x-a.x,c=a.x*r.y-r.x*a.y,u=l*t.x+o*t.y+c,h=l*e.x+o*e.y+c,0!==u&&0!==h&&n(u,h))return;if(0===(g=i*o-l*s))return;return y=Math.abs(g/2),{x:(v=s*c-o*d)<0?(v-y)/g:(v+y)/g,y:(v=l*d-i*c)<0?(v-y)/g:(v+y)/g}}},{}],14:[function(t,e,r){e.exports=function(t,e){return t.intersect(e)}},{}],15:[function(t,e,r){var n=t("./intersect-line");e.exports=function(t,e,r){var a=t.x,i=t.y,l=[],s=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY;e.forEach((function(t){s=Math.min(s,t.x),o=Math.min(o,t.y)}));for(var d=a-t.width/2-s,c=i-t.height/2-o,u=0;u<e.length;u++){var h=e[u],p=e[u<e.length-1?u+1:0],f=n(t,r,{x:d+h.x,y:c+h.y},{x:d+p.x,y:c+p.y});f&&l.push(f)}if(!l.length)return console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",t),t;l.length>1&&l.sort((function(t,e){var n=t.x-r.x,a=t.y-r.y,i=Math.sqrt(n*n+a*a),l=e.x-r.x,s=e.y-r.y,o=Math.sqrt(l*l+s*s);return i<o?-1:i===o?0:1}));return l[0]}},{"./intersect-line":13}],16:[function(t,e,r){e.exports=function(t,e){var r,n,a=t.x,i=t.y,l=e.x-a,s=e.y-i,o=t.width/2,d=t.height/2;Math.abs(s)*o>Math.abs(l)*d?(s<0&&(d=-d),r=0===s?0:d*l/s,n=d):(l<0&&(o=-o),r=o,n=0===l?0:o*s/l);return{x:a+r,y:i+n}}},{}],17:[function(t,e,r){var n=t("../util");e.exports=function(t,e){var r=t.append("foreignObject").attr("width","100000"),a=r.append("xhtml:div");a.attr("xmlns","http://www.w3.org/1999/xhtml");var i=e.label;switch(typeof i){case"function":a.insert(i);break;case"object":a.insert((function(){return i}));break;default:a.html(i)}n.applyStyle(a,e.labelStyle),a.style("display","inline-block"),a.style("white-space","nowrap");var l=a.node().getBoundingClientRect();return r.attr("width",l.width).attr("height",l.height),r}},{"../util":27}],18:[function(t,e,r){var n=t("./add-text-label"),a=t("./add-html-label"),i=t("./add-svg-label");e.exports=function(t,e,r){var l=e.label,s=t.append("g");"svg"===e.labelType?i(s,e):"string"!=typeof l||"html"===e.labelType?a(s,e):n(s,e);var o,d=s.node().getBBox();switch(r){case"top":o=-e.height/2;break;case"bottom":o=e.height/2-d.height;break;default:o=-d.height/2}return s.attr("transform","translate("+-d.width/2+","+o+")"),s}},{"./add-html-label":17,"./add-svg-label":19,"./add-text-label":20}],19:[function(t,e,r){var n=t("../util");e.exports=function(t,e){var r=t;return r.node().appendChild(e.label),n.applyStyle(r,e.labelStyle),r}},{"../util":27}],20:[function(t,e,r){var n=t("../util");e.exports=function(t,e){for(var r=t.append("text"),a=function(t){for(var e,r="",n=!1,a=0;a<t.length;++a)if(e=t[a],n){if("n"===e)r+="\n";else r+=e;n=!1}else"\\"===e?n=!0:r+=e;return r}(e.label).split("\n"),i=0;i<a.length;i++)r.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(a[i]);return n.applyStyle(r,e.labelStyle),r}},{"../util":27}],21:[function(t,e,r){var n;if("function"==typeof t)try{n={defaults:t("lodash/defaults"),each:t("lodash/each"),isFunction:t("lodash/isFunction"),isPlainObject:t("lodash/isPlainObject"),pick:t("lodash/pick"),has:t("lodash/has"),range:t("lodash/range"),uniqueId:t("lodash/uniqueId")}}catch(t){}n||(n=window._),e.exports=n},{"lodash/defaults":void 0,"lodash/each":void 0,"lodash/has":void 0,"lodash/isFunction":void 0,"lodash/isPlainObject":void 0,"lodash/pick":void 0,"lodash/range":void 0,"lodash/uniqueId":void 0}],22:[function(t,e,r){"use strict";var n=t("./util"),a=t("./d3");e.exports=function(t,e){var r=t.filter((function(){return!a.select(this).classed("update")}));function i(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}r.attr("transform",i),n.applyTransition(t,e).style("opacity",1).attr("transform",i),n.applyTransition(r.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}},{"./d3":7,"./util":27}],23:[function(t,e,r){"use strict";var n=t("./util"),a=t("./d3"),i=t("./lodash");e.exports=function(t,e){function r(t){var r=e.edge(t);return i.has(r,"x")?"translate("+r.x+","+r.y+")":""}t.filter((function(){return!a.select(this).classed("update")})).attr("transform",r),n.applyTransition(t,e).style("opacity",1).attr("transform",r)}},{"./d3":7,"./lodash":21,"./util":27}],24:[function(t,e,r){"use strict";var n=t("./util"),a=t("./d3");e.exports=function(t,e){function r(t){var r=e.node(t);return"translate("+r.x+","+r.y+")"}t.filter((function(){return!a.select(this).classed("update")})).attr("transform",r),n.applyTransition(t,e).style("opacity",1).attr("transform",r)}},{"./d3":7,"./util":27}],25:[function(t,e,r){var n=t("./lodash"),a=t("./d3"),i=t("./dagre").layout;e.exports=function(){var e=t("./create-nodes"),r=t("./create-clusters"),a=t("./create-edge-labels"),d=t("./create-edge-paths"),c=t("./position-nodes"),u=t("./position-edge-labels"),h=t("./position-clusters"),p=t("./shapes"),f=t("./arrows"),g=function(t,g){!function(t){t.nodes().forEach((function(e){var r=t.node(e);n.has(r,"label")||t.children(e).length||(r.label=e),n.has(r,"paddingX")&&n.defaults(r,{paddingLeft:r.paddingX,paddingRight:r.paddingX}),n.has(r,"paddingY")&&n.defaults(r,{paddingTop:r.paddingY,paddingBottom:r.paddingY}),n.has(r,"padding")&&n.defaults(r,{paddingLeft:r.padding,paddingRight:r.padding,paddingTop:r.padding,paddingBottom:r.padding}),n.defaults(r,l),n.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){r[t]=Number(r[t])})),n.has(r,"width")&&(r._prevWidth=r.width),n.has(r,"height")&&(r._prevHeight=r.height)})),t.edges().forEach((function(e){var r=t.edge(e);n.has(r,"label")||(r.label=""),n.defaults(r,s)}))}(g);var y=o(t,"output"),v=o(y,"clusters"),x=o(y,"edgePaths"),b=a(o(y,"edgeLabels"),g),w=e(o(y,"nodes"),g,p);i(g),c(w,g),u(b,g),d(x,g,f);var m=r(v,g);h(m,g),function(t){n.each(t.nodes(),(function(e){var r=t.node(e);n.has(r,"_prevWidth")?r.width=r._prevWidth:delete r.width,n.has(r,"_prevHeight")?r.height=r._prevHeight:delete r.height,delete r._prevWidth,delete r._prevHeight}))}(g)};return g.createNodes=function(t){return arguments.length?(e=t,g):e},g.createClusters=function(t){return arguments.length?(r=t,g):r},g.createEdgeLabels=function(t){return arguments.length?(a=t,g):a},g.createEdgePaths=function(t){return arguments.length?(d=t,g):d},g.shapes=function(t){return arguments.length?(p=t,g):p},g.arrows=function(t){return arguments.length?(f=t,g):f},g};var l={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:a.curveLinear};function o(t,e){var r=t.select("g."+e);return r.empty()&&(r=t.append("g").attr("class",e)),r}},{"./arrows":2,"./create-clusters":3,"./create-edge-labels":4,"./create-edge-paths":5,"./create-nodes":6,"./d3":7,"./dagre":8,"./lodash":21,"./position-clusters":22,"./position-edge-labels":23,"./position-nodes":24,"./shapes":26}],26:[function(t,e,r){"use strict";var n=t("./intersect/intersect-rect"),a=t("./intersect/intersect-ellipse"),i=t("./intersect/intersect-circle"),l=t("./intersect/intersect-polygon");e.exports={rect:function(t,e,r){var a=t.insert("rect",":first-child").attr("rx",r.rx).attr("ry",r.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return r.intersect=function(t){return n(r,t)},a},ellipse:function(t,e,r){var n=e.width/2,i=e.height/2,l=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",n).attr("ry",i);return r.intersect=function(t){return a(r,n,i,t)},l},circle:function(t,e,r){var n=Math.max(e.width,e.height)/2,a=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",n);return r.intersect=function(t){return i(r,n,t)},a},diamond:function(t,e,r){var n=e.width*Math.SQRT2/2,a=e.height*Math.SQRT2/2,i=[{x:0,y:-a},{x:-n,y:0},{x:0,y:a},{x:n,y:0}],s=t.insert("polygon",":first-child").attr("points",i.map((function(t){return t.x+","+t.y})).join(" "));return r.intersect=function(t){return l(r,i,t)},s}}},{"./intersect/intersect-circle":11,"./intersect/intersect-ellipse":12,"./intersect/intersect-polygon":15,"./intersect/intersect-rect":16}],27:[function(t,e,r){var n=t("./lodash");e.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return i(t.v)+":"+i(t.w)+":"+i(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,r){e&&t.attr("class",e).attr("class",r+" "+t.attr("class"))},applyTransition:function(t,e){var r=e.graph();if(n.isPlainObject(r)){var a=r.transition;if(n.isFunction(a))return a(t)}return t}};var a=/:/g;function i(t){return t?String(t).replace(a,"\\:"):""}},{"./lodash":21}],28:[function(t,e,r){e.exports="0.6.4"},{}]},{},[1])(1)}));