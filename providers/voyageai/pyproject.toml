# This file defines the provider as an installable Python package.
# Airflow uses this to install the provider into the environment.

[build-system]
requires = ["flit_core >=3.2,<4"]
build-backend = "flit_core.buildapi"

[project]
name = "apache-airflow-providers-voyageai"
version = "0.1.0"
description = "An Apache Airflow provider for the Voyage AI embeddings API."
authors = [{ name = "Arthur Kretzer", email = "ark@certi.org.br" }]
requires-python = ">=3.10"
dependencies = [
    "apache-airflow>=2.10.0", # Compatible with Airflow 2.6+
    "voyageai>=0.2.0",        # The official Voyage AI library
]

[dependency-groups]
dev = [
    "apache-airflow",
    "apache-airflow-task-sdk",
    "apache-airflow-devel-common",
    # Additional devel dependencies (do not remove this line and add extra development dependencies)
]

[tool.uv.sources]
# # These names must match the names as defined in the pyproject.toml of the workspace items,
# # *not* the workspace folder paths
apache-airflow = { workspace = true }
apache-airflow-devel-common = { workspace = true }
apache-airflow-task-sdk = { workspace = true }
apache-airflow-providers-common-sql = { workspace = true }
apache-airflow-providers-standard = { workspace = true }

[project.entry-points."apache_airflow_provider"]
provider_info = "airflow.providers.voyageai.get_provider_info:get_provider_info"

[tool.flit.module]
name = "airflow.providers.voyageai"

[project.optional-dependencies]
test = ["pytest", "pytest-mock"]
